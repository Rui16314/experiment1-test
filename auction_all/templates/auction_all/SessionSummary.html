{% extends 'auction_all/Base.html' %}{% block content %}<h2>Session results â€” {{ phase_label }}</h2><div class='chart-box'><h5>1) Average bid vs valuation (all players)</h5><canvas id='c1'></canvas></div><div class='chart-box'><h5>2) Individual average bid vs valuation (one chart per student)</h5><div id='indiv'></div></div><div class='chart-box'><h5>3) Average revenue (winning price) by round</h5><canvas id='c3'></canvas></div><div class='chart-box'><h5>4) Your average payoff (this session)</h5><div class='display-6'>{{ my_avg_payoff_str }}</div></div><form method='post'><button>Continue</button></form>{% endblock %}{% block scripts %}<script src='https://cdn.jsdelivr.net/npm/chart.js'></script><script>const s1={{ avg_bid_by_val|safe }};new Chart(document.getElementById('c1'),{type:'line',data:{datasets:[{label:'Avg bid',data:s1,parsing:false}]} });const indiv={{ indiv_series|safe }};const wrap=document.getElementById('indiv');indiv.forEach(series=>{const c=document.createElement('canvas');wrap.appendChild(c);new Chart(c,{type:'line',data:{datasets:[{label:'P '+series.pid,data:series.points,parsing:false}]}})});const s3={{ rev_by_round|safe }};new Chart(document.getElementById('c3'),{type:'line',data:{datasets:[{label:'Avg revenue',data:s3,parsing:false}]}});</script>{% endblock %}